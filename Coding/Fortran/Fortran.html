<!DOCTYPE html>
<html lang="en" data-theme="business">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    

    <!-- Flavicon -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">

    <!-- Google Fonts - Open Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">

    <!-- KaTeX CSS and JS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);">
    </script>

    <!-- Iconify for Icons -->
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>

    <!-- DaisyUI CSS FIRST -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css" rel="stylesheet" type="text/css" />
    <!-- Tailwind v4 AFTER DaisyUI -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Custom Typography Styling -->
    <link rel="stylesheet" href="/assets/css/typography.css">

    <!-- Page Title -->
    
        <title>Fortran Programming | Fortran | Fluidic Colours</title>
    

</head>

<body>
    <nav class="bg-base-100 shadow-sm sticky top-0 z-50">
    <div class="navbar container mx-auto max-w-7xl">
        <!-- Left: Logo + Mobile Menu -->
        <div class="navbar-start">
            <!-- Logo -->
            <a href="/" class="btn btn-ghost text-xl">Fluidic Colours</a>
        </div>
        
        <!-- Right: Theme Switcher -->
        <div class="navbar-end gap-2">

            <label class="swap swap-rotate">
                <input type="checkbox" class="theme-controller" value="cmyk" />
                
                <!-- Sun icon -->
                <svg class="swap-on h-5 w-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z" />
                </svg>
                
                <!-- Moon icon -->
                <svg class="swap-off h-5 w-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z" />
                </svg>
            </label>

            <!-- Mobile Hamburger -->
            <div class="dropdown dropdown-end">
                <div tabindex="0" role="button" class="btn btn-ghost">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
                        class="inline-block h-5 w-5 stroke-current"> 
                        <path stroke-linecap="round" stroke-linejoin="round" 
                            stroke-width="2" d="M4 6h16M4 12h16M4 18h16">\
                        </path>
                    </svg>
                </div>
                <!-- <ul tabindex="-1" class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow"> -->
                <ul tabindex="-1" class="menu menu-sm dropdown-content bg-base-100 [&_li>*]:rounded-none p-0 z-[1] mt-3 w-52 shadow">
                    
                    <li>
                        <a href="/">
                            Home
                        </a>
                    </li>
                    
                    <li>
                        <a href="/writing.html">
                            Writing
                        </a>
                    </li>
                    
                    <li>
                        <a href="/notes.html">
                            Notes
                        </a>
                    </li>
                    
                    <li>
                        <a href="/coding.html">
                            CS and Programming
                        </a>
                    </li>
                    
                    <li>
                        <a href="/resources.html">
                            Resources
                        </a>
                    </li>
                    
                    <li>
                        <a href="/apps.html">
                            My Apps
                        </a>
                    </li>
                    
                    <li>
                        <a href="/devblogs.html">
                            Dev Blogs
                        </a>
                    </li>
                    
                    <li>
                        <a href="/about.html">
                            About
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
    </div>
</nav>
    
    <!-- Blog content (no banner!) -->
    <main id="content" class="py-12 min-h-screen">
        <div class="prose prose-lg max-w-none mx-auto">
            <h1 id="fortran-programming">Fortran Programming</h1>
<p><strong><em>Updated till Fortran Programming Tutorial (Revised) :
017</em></strong></p>
<h2 id="introduction">Introduction</h2>
<p>Fortran stands for FORmula TRANslation.</p>
<p>It is been available from 1950’s</p>
<p>Prior to Fortran, machine level or assembly level languages were used
for coding.</p>
<p>This was a hectic job and in 1950’s, John Backus of IBM gave the idea
of “Speed Coding”, wherein you have a simple programming language, where
the methods are simple and easy to understand. The lines of code are
very easy to interpret and follow. And at the back, you have subroutines
to convert the statements into equivalent machine level language and
execute it.</p>
<p>And thus came Fortran, the first ever proper compiled language
ever.</p>
<p>Versions are as follows,</p>
<h3 id="fortran-1">Fortran 1</h3>
<p>This is the first proper development in Fortran. It was quite
difficult, but much better off than assembly level codes.</p>
<h2 id="fortran-2-and-3">Fortran 2 and 3</h2>
<p>These were developed version of Fortran. A lot of companies and
universities started to use them and because of which, multiple versions
and different syntactics came into existence. </p>
<h3 id="fortran-66-or-fortran-4">Fortran 66 or Fortran 4</h3>
<p>This was the first proper standardized version of Fortran made in
1966, that made everything move much easier. The codes became more easy
to follow and work with. This eradicated the existence of multiple
versions and syntactics.</p>
<h3 id="fortran-77">Fortran 77</h3>
<p>This is the most widely used and common standard made in 1977. It had
a very large number of changes and improvements made into it. It is
being used till date. This is the first in the series of the most easy
to follow codes in Fortran ever. It was nearly a full fledged
language. The program has a fixed format, wherein, each line cannot be
more than 72 columns long and if they have to be, they have to be
continues in multiple lines, executable statements mush start from a
certain column number, labels from column 1 to 6 and so on.. This holds
good for other statements as well. This was rather, an imitation of the
IBM punch card designs used for programming at that time. A program will
have 100s or 1000s of these cards, each card for each line of the
program. Each card has instructions built into it by making
holes/punches in specific places to denote the binary representation of
each character, as per ASCII notations. Punches indicate 1 and the rest
indicate zeros. Before that, tapes were used for programming and those
were even more frustrating than punch cards.</p>
<p>The extension is .f77 or .f</p>
<h3 id="fortran-90">Fortran 90</h3>
<p>This is a full fledge upgrade of F77, released in 1990 with more
features and more freedom in-terms of syntax and operations. Have a lot
of difference in syntax when compared to F77. It has free format,
meaning, you do not have to stick to the ground rules of F77 for writing
codes. Each line can be more that 72 characters long and will not be
ignored as in F77 if the 72 count crosses.</p>
<p>The extension is .f90</p>
<h3 id="fortran-95-fortran-2003-fortran-2008-fortran-2015">Fortran 95
Fortran 2003 Fortran 2008 Fortran 2015</h3>
<p>The above three are marginal additions to F90 added in 1995, 2003,
2008 etc., They are not that prominent. F95 has minor changes. F03 and
F08 have more features, but those have not been completely incorporated
into the compilers yet. F15 is under construction and will be released
by 2015/2016.</p>
<p>The extensions are .f95, .f03, .f08</p>
<p>Apparently, the older versions are the fastest and subsequent
releases are slower and slower. This is a compromise for making more
features and ease of programming for the users. The more higher level
the instructions become, the harder it is for the compiler to optimize
the memory for performing it faster.</p>
<p>Fortran was so heavily used in Industry and scientific community,
that it created a software inertia. When new programming languages were
created, instead of getting wiped out of existence, Fortran remained
strong and firm and still being used. Surprisingly, fortran is still
active and becoming more and more modern.</p>
<p>Fortran can be said as the pioneer example of modern programming
languages. It gave inspiration for the birth of new programming
languages.</p>
<hr />
<h2 id="data-sources">Data Sources</h2>
<h3 id="books">Books:</h3>
<ul>
<li>Any Fortran book of convenience</li>
<li>tutorialspoint.com notes on Fortran</li>
</ul>
<h3 id="video-lectures">Video Lectures:</h3>
<ul>
<li>Youtube Lectures by Reimber</li>
<li>Youtube Lectures by hexafoil</li>
<li>Coursera - HPC course by Prof. Randall J LeVeque, University of
Washington</li>
<li>Youtube Lectures by Self</li>
<li>Fortran.com, The fortran company.</li>
<li>fortrantutorial.com notes</li>
</ul>
<p>A lot of information has been covered in the Fortran (Basic and
Advanced) Tutorials that are not in the notes. Have a look.</p>
<hr />
<h2 id="requirements">Requirements</h2>
<p>The software requirements are</p>
<ul>
<li>Compilers</li>
<li>Editors</li>
</ul>
<p>Compilers or the basic code for fortran, are available in several
formats:</p>
<ul>
<li><p>GNU gfortran is ideal and most suited. This is highly recommended
for general purpose usage. It compiles F77, F90 and F95.</p></li>
<li><p>Intel ifortran is also available, but may be commercial. Not
recommended for normal use, primarily because of cost issues, but can be
used for Super Computing facilities.</p></li>
<li><p>Several other compilers exist, with each one having their own
advantages and facilities.</p></li>
</ul>
<p><strong>For Linux/Unix</strong> : They come pre-built with a GNU
compiler (possibly) and regular periodic checks/updates will do. If not
available, a command prompt execution for installation will take care of
it.</p>
<p><strong>For Windows</strong>: This is a bit complex. By default,
windows do not have the compilers built into it. To incorporate them,
there are, in contrast to the complexity, many ways:</p>
<ul>
<li><p><strong>Cygwin</strong>: This is a collection of software with a
bash terminal. To get the compiler, invoke a cygwin installer and
install gnu gcc compilers. Cygwin provides a vast variety of software,
so it is sufficient to install the essential ones.</p></li>
<li><p><strong>Mingw</strong>: This is similar to cygwin. It is a big
bundle having GNU compilers for fortran, c and c++. Possibly with OpenMP
modules.</p></li>
<li><p><strong>Equation solutions</strong> company in their website,
Equation.com provides a small bundle of essential GNU
compilers.</p></li>
<li><p><strong>Silver force FTN95</strong> is another option. Comes
along with <strong>Plato IDE</strong></p></li>
</ul>
<p>  There are multiple sources.</p>
<p>  Editors:</p>
<ul>
<li><p><strong>Geany</strong> : Light weight, needs a compiler to be
installed separately,</p></li>
<li><p><strong>Netbeans</strong> : Multi-purpose editor, needs C/C++
plugin installed and a compiler installed, either cygwin or mingw.
Sometimes, the fortran plugin may not be available, so you have to
install one, which is quite easy.</p></li>
<li><p><strong>Eclipse</strong>: Multi-purpose editor, thinking that it
will be similar to netbeans. There are many versions of eclipse. The
“parallel application developers” version is preferred. It has features
to run C/C++, fortran and can implement OpenMP/MPI features. If other
versions are used, then a Fortran plugin has to be installed.</p></li>
</ul>
<p><strong>Note</strong>: If Eclipse or Net beans is used in Windows,
then you have to ensure the path of java is registered. Install a
<strong>JDK</strong> package, copy the address of the bin folder, right
click the computer icon, go to properties, go to advanced system
settings&gt;environment variables, add a new user variable, set the
variable to be “path” and the address to be the address you copied from
the jdk folder. Save and quit. Open cmd and type javac and enter. If you
get a big bunch of usage instructions, then it is working. If it shows
an error/not found message, the it has to be done properly. Check the
link for step-by-step explanation. Also, follow the video for a full
explanation.
https://www.youtube.com/watch?v=GfCmiEbGtpE&amp;list=UUOF2qXeo1xhmxqt_25yEB9Q</p>
<p>  For Netbeans in ubuntu or any other linux versions, go to
https://www.youtube.com/watch?v=OK6GSvpGZfk&amp;list=UUOF2qXeo1xhmxqt_25yEB9Q&amp;index=8</p>
<p>The above are free, cross platform and semi-dedicated editors. They
can be used to edit and execute the programs easily.</p>
<p>If a normal editor is used such as gedit in ubuntu or notepad in
windows, you need to execute them from command line prompt.</p>
<p><strong>Dedicated Editors</strong>: can be used to edit programs,
compile and execute them. They come with the compilers in-built with
them. So, they take care of the compiler issue.</p>
<p><strong>Code blocks</strong>: Has a lot of features, has both project
and normal execution based modes. Recommended for starters and even
advanced users. But not suitable for creating flag-based
compilation.</p>
<p><strong>Plato</strong> : Specifically for Fortran</p>
<p>There are many more dedicated editors.</p>
<h2 id="installation">Installation</h2>
<h3 id="mac-and-linux---gfortran-installation">Mac and Linux - gfortran
installation</h3>
<ul>
<li>Go to the terminal and type the line below for Debian/Ubuntu.
(Instead of <code>apt-get</code> use the proper keyword based on the
distro)</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install gfortran</span></code></pre></div>
<ul>
<li>Make sure that the internet is connected</li>
<li>Proceed as per instructions - easy and straight forward</li>
</ul>
<h3 id="windows-mac-and-linux---code-blocksgeany-installation">Windows,
Mac and Linux - Code Blocks/geany installation</h3>
<p>To install code blocks(geany), go to the website, download the latest
version of code blocks+mingw consolidated setup (geany setup) and
proceed. It is very straight forward and simple.</p>
<h3 id="windows---gfortran-installation-via-cygwin">Windows - gfortran
installation via cygwin</h3>
<p>Follow the instructions given in
https://www.youtube.com/watch?v=GfCmiEbGtpE&amp;list=UUOF2qXeo1xhmxqt_25yEB9Q
. This should work fine!</p>
<h2 id="caution">Caution!</h2>
<ul>
<li>Do not mix and match compilers! (Intel C + gnu fortran) Operations
may not work!</li>
<li>Different compilers can give different answers for advanced problems
- due to optimizations, flag usage, change of data types etc., So check
the code and flags!</li>
<li>GNU Fortran is free, simple, opensource, almost all features, mostly
sufficient for a large quantity of jobs.</li>
<li>Only has standard features. Good for beginners and learners. Makes
learning advanced versions much easy!</li>
<li>Commercial compilers like Intel, PGI, Cray, NAG, HP are much
advanced and have non-standard features. They are hardware manufacturers
(a lot of them) and so, they take the advantages of the system
architecture to make more efficient programs and flags.</li>
<li>Use Commercial compilers for heavy duty applications. They are both
free and priced!</li>
<li>Commercial compilers have much advanced OpenMP and MPI
implementations</li>
<li>Programs written keeping one compiler in mind, may cause warning or
do not work in other compilers - due to flags and optimizations - Be
cautious!</li>
</ul>
<h2 id="hello-world-program">Hello World Program!</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">! This program is a hello world program</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">! This is a comment. Start a comment with an ! mark</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">! Intendation is optional, use it for enhanced readability!</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="kw">program</span> hello</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">! This is the program starting. program is a key word, followed by the program name</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">! It has a meaning</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;Hello World! My Name is Arun!&quot;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">! This is the print statement. * means unformatted!</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">! The line below is the program ending. end is sufficient,</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">! but for clarity, write end program prog_name</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end program</span> hello</span></code></pre></div>
<h2 id="basic-concepts">Basic Concepts</h2>
<h3 id="implicit-none-and-datatypes">Implicit none and Datatypes</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">! Without it,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">! Variables beginning with l, m, n .... are termed as integers by the compiler by default</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">! Variables beginning with a, b, c, x, y, z, ..... are real/float!</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">! If not used, then there can be data type troubles and limitation in variable names!</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">! implicit none tells the compiler &quot;Not to assume the data type of any variable implicitly!</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">! Let the user define the data type explicitly&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">! Integers are positive and negative whole numbers</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="dt">integer</span> <span class="dt">::</span> i1, i2</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">! This notation without :: is also fine! :: is used for separation - that is it!</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="dt">integer</span> i3, i4</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">! Reals are positive and negative float numbers (numbers having decimal places)</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span> <span class="dt">::</span> r1, r2</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co">! Reals having 8 bytes of memory. 15 digits precision</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>double <span class="dt">::</span> d1, d2</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co">! Complex numbers. By default, both the real and imaginary parts are floats</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="dt">complex</span> <span class="dt">::</span> c1, c2</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co">! Used for storing symbols</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="dt">character</span> <span class="dt">::</span> ch1, ch2</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co">! Used for storing Boolean/Logical Values &quot;True&quot; or &quot;False&quot;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="dt">logical</span> <span class="dt">::</span> l1, l2</span></code></pre></div>
<h3 id="implicit-none">Implicit None</h3>
<p>This statement is given before variable declarations. The purpose is
to tell the program that all the variables that will be used in the
program will be user defined. It also says that no variable will be
defined just like that.</p>
<p>If this statement is avoided, you can arbitrarily define variables
anywhere in the code/script and the compiler will not cause a warning.
Also, the data type of the variable is decided by the compiler based on
some in-built rules. Also, these rules mention what type the memory
location should be, should it be a constant or a variable?</p>
<p>If the statement is included, you have to define all the variables
explicitly with a data type. You also have to mention whether they are
constants or variables.</p>
<h4 id="why-this-statement">Why this Statement?</h4>
<p>In the days of F77 and may be before, there was a general rule of
thumb to differentiate variables and constants that is loosely
associated with algebraic terms. It was a convention that all the
variables starting with i,j,k,l,m,n are integers, and all other
variables are 4-byte real values. Ironically, even today, some of these
conventions are still being followed. If you want some other formats,
you have to explicitly declare them.</p>
<p>With increase in complicated algorithms, this rule became pointless,
because certain variables starting with i to n have to be floating point
numbers, and other variables may have to be integers. So, because of
this rule, a lot of complications arose in the future.</p>
<p>Instead of removing this convention, they added this command that
overrides the convention. Thereby, the convention can be followed if
required, avoided if needed.</p>
<h3 id="operations-and-operator-precedence">Operations and Operator
Precedence</h3>
<p>Code for hero’s formulae : Area of a triangle</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span> <span class="dt">::</span> a, b, c, s, p, Area</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">! + - * / Standard ASMD (Add, Subtract, Multiply, Divide)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">! ** exponent or power eg: 2^3 = 8 is written as 2**3</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">! ^ not available!</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">! mod(5,3) = 2. Returns the reminder of 5/3. Works for both</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">! integers and real numbers</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">! Operator precedence: </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">! Operators have an order in which the operation occurs</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">! Avoids multiple representation of an expression</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">! Tells which operation to occur first, which next ...</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">! PEMDAS = Parenthesis Exponent Multiplication Division Addition Subtraction</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">! Please Excuse My Dear Aunt Sally (Acronym to remember the above)</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>a <span class="kw">=</span> <span class="dv">3</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>b <span class="kw">=</span> <span class="dv">4</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>c <span class="kw">=</span> <span class="dv">5</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co">! 3x10^8 scientific notation is given by 3E8. decimals allowed.</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">! e stands for a single precision number</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">! 3d1, 6d-2 is also allowed. </span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co">! These are another type of scientific notation.</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co">! d stands for double precision number</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>p <span class="kw">=</span> a<span class="kw">+</span>b<span class="kw">+</span>c</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>s <span class="kw">=</span> p<span class="kw">/</span><span class="dv">2</span> <span class="co">! 0.5*p</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>Area <span class="kw">=</span> (s<span class="kw">*</span>(s<span class="kw">-</span>a)<span class="kw">*</span>(s<span class="kw">-</span>b)<span class="kw">*</span>(s<span class="kw">-</span>c))<span class="kw">**</span><span class="fl">0.5</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co">! Parenthesis takes first preference! making s, s-a, s-b, s-c occurring separately.</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co">! Then, these results are multiplied and finally, the result is powered!</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;The perimeter of the Triangle is:&quot;</span>, Area</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;The area of the triangle is:&quot;</span>, p</span></code></pre></div>
<p>The output is:</p>
<pre><code>The perimeter of the Triangle is: 12.00000
The area of the triangle is : 6.00000</code></pre>
<h3 id="type-casting-and-truncation">Type Casting and Truncation</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">integer</span> <span class="dt">::</span> d, e</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span> <span class="dt">::</span> f, g</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">! Proper integers and proper real numbers</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>d <span class="kw">=</span> <span class="dv">4</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>f <span class="kw">=</span> <span class="fl">6.7</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">! Valid assignments based on data type</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>g <span class="kw">=</span> d</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>e <span class="kw">=</span> f</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">! Not a proper assignment</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;d = &quot;</span>,d , <span class="st">&quot;e = &quot;</span>, e</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;f = &quot;</span>,f , <span class="st">&quot;g = &quot;</span>, g</span></code></pre></div>
<p>The output is:</p>
<pre><code>d = 4 e = 6
f = 6.6999 g = 4.0000</code></pre>
<p>Note that ‘e’ value is truncated and you have extra zeros in ‘g’</p>
<p>Why the variation in output?</p>
<ul>
<li>d is an integer. When d’s value is assigned to g, integer data type
is type casted to real. Integers can be represented by reals by adding
trailing zeros. Hence, extra zeros come in. Also, real &gt;
integer.</li>
<li>f is a real. When f’s value is assigned to e, float data type is
type casted to integer. You cannot represent real numbers using integers
because integers do not have decimal parts. Hence, the decimal part is
truncated!</li>
</ul>
<h3 id="case-insensitivity">Case Insensitivity</h3>
<p>Variables, keywords etc., in fortran are case insensitive! for
example</p>
<p>Code for hero’s formulae : Area of a triangle</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">! Note that throughout this code, capitalization is used</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">! in a crazy manner!</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="dt">Real</span> <span class="dt">::</span> a, b, c, s, p, Area</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>A <span class="kw">=</span> <span class="dv">3</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>b <span class="kw">=</span> <span class="dv">4</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>c <span class="kw">=</span> <span class="dv">5</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>P <span class="kw">=</span> a<span class="kw">+</span>b<span class="kw">+</span>c</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>s <span class="kw">=</span> p<span class="kw">/</span><span class="dv">2</span> <span class="co">! 0.5*p</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>AREA <span class="kw">=</span> (s<span class="kw">*</span>(s<span class="kw">-</span>a)<span class="kw">*</span>(s<span class="kw">-</span>b)<span class="kw">*</span>(s<span class="kw">-</span>c))<span class="kw">**</span><span class="fl">0.5</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">Print</span> <span class="kw">*</span>, <span class="st">&quot;The perimeter of the Triangle is:&quot;</span>, AreA</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="fu">prInt</span> <span class="kw">*</span>, <span class="st">&quot;The area of the triangle is:&quot;</span>, p</span></code></pre></div>
<p>The output is:</p>
<pre><code>The perimeter of the Triangle is: 12.00000
The area of the triangle is : 6.00000</code></pre>
<p>The result is the same and not a problem!</p>
<p>Note that this can be an advantage/disadvantage based on the case!
Use caution!</p>
<h3 id="explicit-type-casting-and-read-statement">Explicit type casting
and Read Statement</h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>g <span class="kw">=</span> <span class="dt">real(f)</span> <span class="co">! Explicit type casting for real numbers</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>e <span class="kw">=</span> <span class="bu">int</span>(f)  <span class="co">! Explicit type casting for integer numbers</span></span></code></pre></div>
<p>To get the data from the user, use <code>read</code> command!</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;Enter the sides of the triangle!&quot;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read</span> <span class="kw">*</span>, a, b, c</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">! * means unformatted input</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">! While execution, after printing the message, the compiler waits.</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">! Give data one by one and press enter.</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">! Data has to be entered based on the data order mentioned in the read statement.</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">! Sometimes, &#39;,&#39; and space between the data are also used for entering the data. Use carefully!</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">! Use asterix properly for entering a common data to multiple consecutive variables!</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">! eg: 3*5 = 5 is repeated thrice!</span></span></code></pre></div>
<h3 id="parameter-keyword-and-built-in-functions">Parameter keyword and
Built-in Functions</h3>
<p>Use parameter keyword for making constants.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span>, <span class="dt">parameter</span> <span class="dt">::</span> pi <span class="kw">=</span> <span class="dv">4</span><span class="kw">*</span><span class="bu">atan</span>(<span class="fl">1.0</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">! This way, pi becomes a constant. </span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">! To get the value of pi, we are using the built in inverse tan function (arctan).</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span>, <span class="dt">parameter</span> <span class="dt">::</span> v <span class="kw">=</span> <span class="fl">1.0</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">! v is also a constant</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span>, <span class="dt">parameter</span> <span class="dt">::</span> p </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">! This line will throw an error. While defining constants, one should enter the value as well</span></span></code></pre></div>
<p>Since <span class="math inline">\(tan(\frac{\pi}{4}) = 1.0\)</span> ,
the function usage gives pi value properly!</p>
<p>Now, if we equate or modify the value of pi somewhere in the program,
then it will throw an error!</p>
<p>Like the above tan functions, you have a lot of default functions
available in fortran, called as <strong>intrinsic functions!</strong>.
You have an entire list! You can check it out in books, internet
etc..,</p>
<p>eg:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>l <span class="kw">=</span> <span class="bu">sqrt</span>(x<span class="kw">**</span><span class="dv">2</span> <span class="kw">+</span> y<span class="kw">**</span><span class="dv">2</span>) <span class="co">! square root function</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>a <span class="kw">=</span> <span class="bu">sin</span>(y<span class="kw">/</span>x)          <span class="co">! sine function!</span></span></code></pre></div>
<h2 id="relational-and-logical-operators">Relational and Logical
Operators</h2>
<div class="sourceCode" id="cb14"><pre
class="sourceCode fortran"><code class="sourceCode fortranfixed"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>    <span class="co">! A simple demonstration of Logical and Relational Operators</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Comment/Uncomment the lines to check the relational and logical expression!</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Also, change the values of m and n to verify the table below </span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="kw">program</span> rel_logic</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">!integer :: a, b</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">logical</span> <span class="dt">::</span> m,n</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">!a = 5</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">!b = 4</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    m <span class="kw">=</span> <span class="cn">.true.</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    n <span class="kw">=</span> <span class="cn">.true.</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A = &quot;,a,&quot;, B = &quot;,b</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A == B? :&quot;, a==b</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A &gt; B? :&quot;, a&gt;b</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A &lt; B? :&quot;, a&lt;b</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A &gt;= B? :&quot;, a&gt;=b</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A &lt;= B? :&quot;, a&lt;=b</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;A /= B? :&quot;, a/=b</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;M = &quot;</span>,m,<span class="st">&quot; N = &quot;</span>,n</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">!print *, &quot;.not.M = &quot;, .not.m</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">!print *, &quot;M or N? :&quot;, m.or.N</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">!print *, &quot;M and N? :&quot;, m.and.n</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;M eqv N? :&quot;</span>, m<span class="op">.eqv.</span>n</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;M neqv N? :&quot;</span>, m<span class="op">.neqv.</span>n</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">! == .eq. equal to</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">! &gt; .gt. greater than</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">! &lt; .lt. less than</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">! &gt;= .ge. greater than or equal to</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">! &lt;= .le. less than or equal to</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">! /= .ne. not equal to</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">! .true. or .false.</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">! .not.(exp1)</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>    <span class="co">! (exp1).and.(exp2)</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="co">! (exp1).or.(exp2)</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    <span class="co">! (exp1).eqv.(exp2)</span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">! (exp1).neqv.(exp2)</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>    <span class="co">! U PEMDAS REL_OP LOG_OP</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>    <span class="co">! This is a full fledged operator precedence</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Unary PEMDAS Relative operators Logical Operators</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Unary +5, -7 ! N/A: ++ --</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>    <span class="co">! a    .not.a   0 = .false.</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>    <span class="co">! 1     0       1 = .true.</span></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>    <span class="co">! 0     1</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>    <span class="co">!____________________________________________________________</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>    <span class="co">!    |      |          |           |            |            |</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>    <span class="co">! a  |   b  | a.and.b  |  a.or.b   |   a.eqv.b  |   a.neqv.b |</span></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>    <span class="co">!____|______|__________|___________|____________|____________|</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">!    |      |          |           |            |            |</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>    <span class="co">! 0  |   0  |     0    |     0     |      1     |     0      |</span></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>    <span class="co">! 0  |   1  |     0    |     1     |      0     |     1      |</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>    <span class="co">! 1  |   0  |     0    |     1     |      0     |     1      |</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>    <span class="co">! 1  |   1  |     1    |     1     |      1     |     0      |</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>    <span class="co">!____|______|__________|___________|____________|____________|</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a><span class="kw">end program</span> rel_logic</span></code></pre></div>
<h2 id="characters-and-strings">Characters and Strings</h2>
<p>This program explains the concept nicely!</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">! Program for defining and printing strings</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">program</span> strings</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character :: a ! a can store just one character = symbol or a 1 digit </span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                   <span class="co">! number or a single alphabet</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character (len=5) :: b ! b is a 5 character long string</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character(5) :: b</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character*5 :: b</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character :: b*5</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character :: c*6, d*10, e*3</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">!array of strings declarations</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character (len=6), dimension(2) :: str1 ! str1 will have two </span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">!strings each of 6 characters in length</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character (6), dimension(2) :: str1</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character*6, dimension(2) :: str1  </span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">!character, dimension(2) :: str1*6!, str2*7, str3*10 </span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="co">!    a = &#39;X&#39;</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a><span class="co">!    !a = &quot;X&quot; ! Alternate expression</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="co">!    b = &#39;white&#39;</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a><span class="co">!    c = &quot;456321&quot;</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="co">!    d = &quot;asd567jk^%&quot;</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a><span class="co">!    e = &quot;_ _&quot;</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;a = &quot;,a</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;b = &quot;,b</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;c = &quot;,c</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;d = &quot;,d</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;e = &quot;,e</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;My name is Arun, written in double quotes&quot;</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&#39;My name is Arun, written in single quotes&#39;</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;He is my friend&#39;s teacher&quot;</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&#39;He is my friend&quot;s teacher&#39;</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&#39;My friend said, &quot;I am fine!&quot;, and I moved on!&#39;</span></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;My friend said, &#39;I am fine!&#39;, and I moved on!&quot;</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;My friend said, &quot;&quot;I am fine!&quot;&quot;, and I moved on!&quot;</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&#39;My friend said, &#39;&#39;I am fine!&#39;&#39;, and I moved on!&#39;</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a><span class="co">!    str1(1) = &quot;Carrom&quot;</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a><span class="co">!    str1(2) = &#39;Cod ng&#39;</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="co">!    ! read *, str1(1), str1(2)</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a><span class="co">!    print *, &quot;First string: &quot;, str1(1), &quot; Second string: &quot;, str1(2) </span></span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a><span class="kw">end program</span> strings</span></code></pre></div>
<h2 id="modulus-operation">Modulus Operation</h2>
<p>Modulus operation returns the remainder of a division. This function
works for both integers and real numbers.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>d <span class="kw">=</span> <span class="dv">51</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>e <span class="kw">=</span> <span class="dv">10</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>q <span class="kw">=</span> d<span class="kw">/</span>e      <span class="co">! Quotient is 5</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>m <span class="kw">=</span> <span class="bu">mod</span>(d,e) <span class="co">! Reminder is 1</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>a <span class="kw">=</span> <span class="fl">51.04</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>b <span class="kw">=</span> <span class="fl">10.0</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>qr <span class="kw">=</span> a<span class="kw">/</span>b      <span class="co">! Quotient is 5.104</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>mr <span class="kw">=</span> <span class="bu">mod</span>(a,b) <span class="co">! Reminder is 1.04</span></span></code></pre></div>
<h2 id="exectution-from-terminal">Exectution from Terminal</h2>
<p>To execute the file in Unix/Linux prompt with bash,</p>
<ul>
<li>Compile and link the file first to get the objects</li>
</ul>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gfortran</span> filename.ext</span></code></pre></div>
<p>For example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gfortran</span> triangle.f95</span></code></pre></div>
<p>This will create object files, link them and creates a default
executable file a.out</p>
<ul>
<li>Run the file by</li>
</ul>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./a.out</span></span></code></pre></div>
<p>the executable file’s name is a historic practice. The executable is
machine specific. You cannot use the a.out in some other machines. It is
resolved by compiling and then executing the file.</p>
<p>To have a different executable file name, use -o flag while compiling
and linking.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gfortran</span> filename.ext <span class="at">-o</span> exec_filename.ext <span class="er">(</span><span class="ex">this</span> extension can be .exe also<span class="kw">)</span></span></code></pre></div>
<p>To compile alone, use -c flag</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gfortran</span> <span class="at">-c</span> filename.ext</span></code></pre></div>
<p>To link it, use -o flag with the .o files</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gfortran</span> filename.o <span class="at">-o</span> exec_filename.ext </span></code></pre></div>
<p>To save the output of the executed file, use,</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./exec_filename.ext</span> <span class="op">&gt;</span> result_filename.ext</span></code></pre></div>
<p>eg:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./main.exe</span> <span class="op">&gt;</span> output.txt</span></code></pre></div>
<h2 id="conditional-statements-and-loops">Conditional Statements and
Loops</h2>
<h3 id="if-statement">If statement</h3>
<p>Code segment to find the quadrant of a point (x,y) using the
magnitudes of x and y</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> ( x <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">.and.</span> y <span class="op">&gt;=</span> <span class="dv">0</span>) <span class="kw">then</span> <span class="co">! First condition</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   q <span class="kw">=</span> <span class="dv">1</span> <span class="co">! Statements to be executed if condition is true</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">else</span> <span class="kw">if</span> (x<span class="op">&lt;=</span><span class="dv">0</span> <span class="op">.and.</span> y<span class="op">&gt;=</span><span class="dv">0</span>) <span class="kw">then</span> <span class="co">! Condition to check if all above conditions are false</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>   q <span class="kw">=</span> <span class="dv">2</span> <span class="co">! Statements to be executed if condition is true</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="kw">else</span> <span class="kw">if</span> (x<span class="op">&lt;=</span><span class="dv">0</span> <span class="op">.and.</span> y<span class="op">&lt;=</span><span class="dv">0</span>) <span class="kw">then</span> <span class="co">! Condition to check if all above conditions are false</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>   q <span class="kw">=</span> <span class="dv">3</span> <span class="co">! Statements to be executed if condition is true</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="kw">else</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>   q <span class="kw">=</span> <span class="dv">4</span> <span class="co">! Statements to be executed if all the above conditions are false</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end if</span>   <span class="co">!this line is necessary</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">! else if and else statements are optional</span></span></code></pre></div>
<h3 id="do-statement">do statement</h3>
<p>syntax:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">do</span> serial<span class="kw">=</span><span class="dv">1</span>,k,increment </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co">!serial is an integer variable that varies from 1 to k. if increment is absent, the default value is 1.</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>   <span class="co">! Set of statements 1</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (condition<span class="kw">-</span>x) cycle  </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">!the presence of keyword cycle transfers control back to do statement if condition-x is satisfied.</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>       <span class="co">! Set of statements 2</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">!the presence of keyword cycle avoids statement-2 if condition-x is satisfied.</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span></span></code></pre></div>
<p>The iterating variable increases till end+increment and then checks
the condition. Since the condition will break, the loop for
end+increment will not happen.</p>
<p>code to generate geometric sequences</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>a <span class="kw">=</span> <span class="fl">1.0</span> <span class="co">! First term</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>r <span class="kw">=</span> <span class="fl">2.0</span> <span class="co">! Common ratio</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="kw">do</span> i<span class="kw">=</span><span class="dv">0</span>, n <span class="co">!i = 0, 1, 2, 3, ...., n</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;The value &quot;</span>, i, <span class="st">&quot; of the series is: &quot;</span>, a<span class="kw">*</span>(r<span class="kw">**</span>i)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span></span></code></pre></div>
<p><code>exit</code> command is used to quit the loop and come out. Exit
command is used explicitly inside do loop with if statement.</p>
<p>Code for n successive factorials using labels:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>outer_do_loop: <span class="kw">do</span> i<span class="kw">=</span><span class="dv">1</span>,n</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">!print *, &quot;Inside the loop, i = &quot;,i</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    fact <span class="kw">=</span> <span class="dv">1</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">! j can be modified and used here!</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">! i can be only used here!</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    inner_do_loop: <span class="kw">do</span> j<span class="kw">=</span><span class="dv">1</span>,i</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">! i and j cannot be modified here!</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">! i and j can be used here!</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        fact <span class="kw">=</span> fact<span class="kw">*</span>j</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end do</span> inner_do_loop</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">! j can be modified and used here!</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">! i can be only used here!</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;The factorial of &quot;</span>, i, <span class="st">&quot; is:&quot;</span>, fact</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span> outer_do_loop</span></code></pre></div>
<h3 id="cautions-in-do-loop">Cautions in do loop</h3>
<ul>
<li>do loops must be sandwitched! Loops cannot overlap!</li>
<li>loops can be within the other or nested!</li>
<li>use labels for clarity - if you need</li>
<li>if a label is used to name a do loop, then the end do statement must
also have the label name</li>
<li>The iterating variable cannot be modified inside the loop.</li>
</ul>
<h3 id="do-while">Do while</h3>
<p>This do loop is actually a while loop.</p>
<p>syntax:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">do</span> <span class="kw">while</span> (condition)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">!set of statements</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">!one condition breaking statement</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span></span></code></pre></div>
<h2 id="labels">Labels</h2>
<p>This looping is also possible using labels.</p>
<p>eg:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">do</span> label_name: serial<span class="kw">=</span><span class="dv">1</span>,k</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>     statements</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>label_name <span class="kw">continue</span></span></code></pre></div>
<p>Here, the do statement starts first and executes the statement set
once, and goes to the continue statement. Now, the do loop does not
knows what to do. So it continues, because of the instruction given by
the continue statement. Now, since it already finished the iteration
with the first value of the iteration variable, it goes to the next
value of the iteration variable and proceeds further.</p>
<p>The colon (:) is necessary!</p>
<p>The label_name is the place, where the continue has to be placed.
That label is being referred in the do statement. This makes sure that
the do statement gets the information/call from the continue statement
instead of some other statement. If some other label is used, then the
do loop might not work.</p>
<p>You do not need a continue statement. The label can be placed
pointing some other statement also. So, the do statement, does the
statements, goes to the statement where the label is pointed at, then
goes to the statements inside it, goes to the label attached statement
and repeats till the indices are over.</p>
<p>This label has no specific format. It is an F77 convention.   you can
label loops.  </p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>outer_do: <span class="kw">do</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>         statement1</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>inner_do: <span class="kw">do</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>         statement2</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span> inner_do</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>         statement3</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span> outer_do</span></code></pre></div>
<h2 id="select-case">Select case</h2>
<p> </p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select case</span>(variable)                  </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span> (value1)                            </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>statements1                      </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span> (value2)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                 statements2</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span> (value3)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>                 statements3</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>         .</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>         .</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>         .</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case default</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>                 statement <span class="dt">final</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end select</span></span></code></pre></div>
<p>eg: assume statements for each case. note that multiple values can be
fed into the case analysis as shown. case values can be .TRUE. or
.FALSE. as well. default case is not mandatory.</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select case</span>(variable)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span>(<span class="dv">1</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">10</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span>(<span class="dv">4</span>:<span class="dv">6</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case</span>(<span class="dv">11</span>:)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>         <span class="kw">case default</span></span></code></pre></div>
<h2 id="forall-loop">forall loop</h2>
<p>Fortran also has a for loop implemented as a forall. This loop can be
used like any other for loop except for one condition. Each iterative
loop should be independent of each other. Therefore, the loop can be
done in any order instead of a serial order. <strong>So, in this strict
sense, it is not a for traditional for loop</strong>. So, if one wants a
<strong>strict</strong> for loop implementation, use a
<strong>do</strong> loop.</p>
<p>The format is:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">forall</span> (i<span class="kw">=</span><span class="dv">1</span>:n)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a> statements</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end forall</span></span></code></pre></div>
<p>When executed, the compiler gets freedom to do the job in any order
of i, thereby can make some optimizations to the programs. This is
useful even in serial processing.</p>
<p>Nested forall is also possible, provided all the loop index can be
acted together. Also, it can have masks.  eg:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">forall</span> (i<span class="kw">=</span><span class="dv">1</span>:n, j<span class="kw">=</span><span class="dv">1</span>:m, b(i,j)<span class="op">.n.</span>e<span class="fl">.0</span> ) </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">!the mask here is that ignore or do not calculate an expression if b(i,j) is zero</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    a(i,j) <span class="kw">=</span> <span class="dv">2</span><span class="kw">*</span>i<span class="kw">*</span>j</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    c(i,j) <span class="kw">=</span> <span class="dv">1</span><span class="kw">/</span>b(i,j)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end forall</span></span></code></pre></div>
<h2 id="kind-attribute">Kind attribute</h2>
<p>Kind command is used for setting the storage memory of the data type.
It is useful for variables and functions. This is also used to make the
variables to store a large range of numbers.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>    <span class="dt">integer(kind=8)</span> <span class="dt">::</span> a</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">integer*8</span> <span class="dt">::</span> a <span class="co">! Alternate statement</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">! variable a is an integer variable that takes 8 bytes of memory</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real(kind=4)</span> <span class="dt">::</span> r</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real*8</span> <span class="dt">::</span> r <span class="co">! Alternate statement</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">! variable r is a real variable that takes 4 bytes of memory</span></span></code></pre></div>
<p>Integers have kind = 2, 4(default), 8, 16</p>
<h2 id="limit-of-integers-and-real-numbers">Limit of Integers and Real
numbers</h2>
<p>The integers and real numbers are stored in a particular manner in
the memory. Each value takes some memory. The more memory a value takes,
the higher the magnitude of the value can be stored.</p>
<p>For details :
https://en.wikipedia.org/wiki/Integer_(computer_science)</p>
<p>So, if a proper kind statement is not used, then the values will
overflow, corrupting the values finally. Precaution has to be taken to
ensure that such issue does not take place. Use the kind statement
properly to avoid this issue.</p>
<h2 id="arrays">Arrays</h2>
<p>declaration example:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span> <span class="dt">::</span> array_name(<span class="fu">size</span>)</span></code></pre></div>
<p>  sometimes it can be defined using dimension function namely</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span>, <span class="dt">dimension(size1,size2,size3,...)</span> <span class="dt">::</span> array_name</span></code></pre></div>
<p><strong>Here, the index is not mentioned. By default its from 1 to
the given size.</strong>   The index is superb in fortran. It can be
negative or positive. some definitions are</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>a(<span class="kw">-</span><span class="dv">1</span>:<span class="dv">3</span>) <span class="co">!5 values of a from a(-1), a(0), a(1), a(2), a(3)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>a(<span class="kw">-</span><span class="dv">6</span>:<span class="kw">-</span><span class="dv">4</span>) <span class="co">!3 values similarly.</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="dt">dimension(0:20)</span> <span class="dt">::</span> a </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co">!has 21 values from a(0) to a(20)        </span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="dt">dimension(0:20,0:20)</span> <span class="dt">::</span> a </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co">!has 441 values from a(0,0) to a(20,20)</span></span></code></pre></div>
<p>Based on these definitions, you can modify the indexing as per your
requirement.   for array to be filled one-by-one, the order, taking a
5x5 array, is,</p>
<pre><code>(1,1), (2,1), (3,1), ... (5,1),

(1,2), (2,2), (3,2), ... (5,2), and so on!</code></pre>
<p><strong>Yes the order flips! unlike other programming
languages!</strong></p>
<p>This is the manner in which the values get stored in the memory as
well!</p>
<p><strong>This is called as Column Contiguous Memory Storage</strong>.
In normal convention, the successive elements in the memory happen to be
row-wise. In Fortran, they are column-wise!</p>
<ul>
<li>This is something to be considered.</li>
<li>Also, when trying to optimize the code, it is necessary to know/have
an idea of how the values are stored in the memory of the computer.</li>
<li>Because, the retrieval of these data from memory takes several
orders more time than moving these values into the cache and register
memory and doing the operations in ALU combined.</li>
</ul>
<p>This is a big problem when you are trying to pass arrays between
different programming languages like Python or C, where the memory
allocation is row based.</p>
<p>array initialisations using constructors. <code>/values/</code> is a
constructor for the array.</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>b<span class="kw">=(/</span><span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span><span class="kw">/)</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>d<span class="kw">=(/</span>(i, i<span class="kw">=</span><span class="dv">1</span>,<span class="dv">50</span>, increment)<span class="kw">/)</span> <span class="co">!d = 1,2,3,....50 if increment =1 !USE OF INCREMENT IS DOUBTFUL</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>c<span class="kw">=(/</span><span class="dv">5</span>,<span class="dv">8</span>,(<span class="dv">2</span><span class="kw">*</span>i, i<span class="kw">=</span><span class="dv">1</span>,<span class="dv">20</span>,increment),<span class="dv">9</span><span class="kw">/)</span> <span class="co">!d = 5,8,2,4,6,......40, 9 if increment =1 !USE OF INCREMENT IS DOUBTFUL</span></span></code></pre></div>
<p>multiple statements like the above two within the constructor are
allowed.</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span>, <span class="dt">dimension(20)</span> <span class="dt">::</span> a<span class="kw">=</span><span class="dv">0</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="co">!assigns all 20 values of a to 0.</span></span></code></pre></div>
<div class="sourceCode" id="cb43"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>a(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>) </span></code></pre></div>
<p>has</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>rank<span class="kw">=</span><span class="dv">3</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>extent1<span class="kw">=</span><span class="dv">5</span>, </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>extent2<span class="kw">=</span><span class="dv">6</span>, </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>extent3<span class="kw">=</span><span class="dv">7</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">size</span> <span class="kw">=</span><span class="dv">5</span><span class="kw">*</span><span class="dv">6</span><span class="kw">*</span><span class="dv">7</span><span class="kw">=</span><span class="dv">210</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">shape</span> <span class="kw">=</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>)</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>rank(), <span class="fu">shape</span>(), <span class="fu">size</span>() </span></code></pre></div>
<p>The above functions return the rank, shape and size of the
arrays.</p>
<p>Arrays can be dynamic in Fortran.</p>
<h2 id="array-operations">Array Operations</h2>
<p>Array operations can be done without the need for loops.</p>
<p>eg:</p>
<p>For three arrays of size n, with indices from 1 to n,</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">do</span> i<span class="kw">=</span><span class="dv">1</span>,n</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>     c(i) <span class="kw">=</span> a(i) <span class="kw">+</span> b(i)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end do</span></span></code></pre></div>
<p>This can be done by the line</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>c <span class="kw">=</span> a <span class="kw">+</span> b <span class="co">!(available from F90 onwards)</span></span></code></pre></div>
<p>If x and y are arrays, then</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>y <span class="kw">=</span> x<span class="kw">**</span><span class="dv">2</span> </span></code></pre></div>
<p>is an example of a component-wise operation. This operation holds
good for - / * also.</p>
<p>even <code>sqrt()</code>works component-wise.</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dot_product</span>(x,y) <span class="co">!calculates the dot product of x,y namely = sum of all xi*yi from i=1,n</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>array2 <span class="kw">=</span> <span class="fu">reshape</span>(array1, <span class="fu">shape</span>) <span class="co">!reshapes a given 1D array into a 2D array of the given shape.</span></span></code></pre></div>
<p>eg:</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>A <span class="kw">=</span> <span class="fu">reshape</span>(<span class="kw">(/</span><span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span><span class="kw">/)</span>, <span class="kw">(/</span><span class="dv">3</span>,<span class="dv">2</span><span class="kw">/)</span>)</span></code></pre></div>
<p>This will produce a three row, two column matrix. <strong>All the
entries get filled COLUMNWISE instead of ROWWISE!</strong></p>
<p>Array slices can be made.</p>
<p>eg:</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span> <span class="kw">*</span>, a(i,:)  <span class="co">!this will print out the ith row.</span></span></code></pre></div>
<div class="sourceCode" id="cb52"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transpose</span>(array) <span class="co">!transposes the matrix/array</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>C <span class="kw">=</span> <span class="fu">matmul</span>(a,b) <span class="co">!does the matrix multiplication of a,b. Applicable to vectors also.</span></span></code></pre></div>
<h2 id="array-memory-allocations">Array Memory Allocations</h2>
<p>Fortran needs to know the size of the arrays beforehand for
allocating memory. But usually, the size of the array is not known until
it is run/executed.</p>
<p>F77 has two ways to resolve this:</p>
<ol type="1">
<li>Allocate a very large array for any application</li>
<li>Use “Work arrays” and partition it into pieces.</li>
</ol>
<p>The second approach is used in LAPACK as well. Work arrays are very
large arrays allocated initially. Later, when the size of the variable
arrays are known, the work array is broken (to be precise, partitioned)
to have a small piece of memory out of it to fit the variable array. The
starting address as well as the data of the array are sent into it and
they get stored.</p>
<p>Similar process happens for other arrays. They get allocated in some
other portion of this big Work array. This is a crude method.</p>
<p>Dynamic allocation is the solution to it. This started from F90 and
extends in all future versions. This avoids the need for F77 protocols
for storing array data.</p>
<p>The arrays get dynamically allocated.</p>
<p>dynamic arrays are to be declared as below</p>
<div class="sourceCode" id="cb53"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="dt">allocatable</span>, <span class="dt">dimension(:)</span> <span class="dt">::</span> a </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co">!This tells the compiler that array a&#39;s memory is dynamic</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co">! get a value n and allocate a as,</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="kw">allocate</span> (a(n)) </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="co">!a value ranges from a(1) to a(n)</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="dt">allocatable</span>, <span class="dt">dimension(:,:)</span> <span class="dt">::</span> b</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co">! get values for m and n and allocate b as,</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="kw">allocate</span>(b(m,n))</span></code></pre></div>
<p>This can be extended to multi-dimensional arrays also.</p>
<p>To deallocate them, use the deallocate command.</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">deallocate</span>(a), <span class="kw">deallocate</span>(b)</span></code></pre></div>
<p>To ensure that you do not run out of space, use the optional stat
argument. eg:</p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">allocate</span>(a(n), stat<span class="kw">=</span>alloc_error)</span></code></pre></div>
<pre><code>if alloc_error /= 0, </code></pre>
<p>then you have an insufficient memory. Otherwise, it is fine.</p>
<p><strong>Caution: Be careful while passing arrays and scalars into
subroutines. If a scalar is passed, and it is treated as an array inside
the subroutine, it will change the values of the other variables!
Vice-Versa also happens. In older versions, not even a warning will
appear and the program will be executed. In newer versions, the program
will be executed with warnings. Because, when you pass an element into a
subroutine, the variable address is passes into it. Sometimes you get a
SEGMENTATION FAULT, meaning, the program is trying to write values in
certain parts of the memory that it has no access or permission to. To
check these, use -fbounds-check flags while compiling the code. (these
are gfortran flags)</strong></p>
<h2 id="fortran-flags-and-gdb">Fortran Flags and gdb</h2>
<p>These are optional checks or conditions to look for when you are
compiling the code or executing it.</p>
<p>check:
http://gcc.gnu.org/onlinedocs//gcc-3.4.5/gcc/Optimize-Options.html for a
detailed list of gcc compiler flags and explanations.</p>
<ul>
<li><p>-c is for compile only</p></li>
<li><p>-o is for linking object files to make an executable</p></li>
<li><p>-fbounds-check is for checking the bound limits of arrays and for
checking the size limits of variables</p></li>
<li><p>-g is the debugger flag to indicate (if possible) where things
went wrong.</p></li>
<li><p>-o2 is for compiling the codes with level 2
optimization.</p></li>
<li><p>-o3 is for compiling the codes with level 3
optimization.</p></li>
<li><p>-fgcse (global common sub-expression elimination) is for
translating the code into an optimized machine code by collecting the
common expressions that are occurring repeatedly in the code, makes it a
variable, and then uses it. Saves execution time by reducing the number
of operations to be done. This is kind of taken care in -o2 or -o3
optimizations.</p></li>
<li><p>-finline-functions is for compiling the code, by replacing the
function calls with a direct in-line representation of the function.
Wherever the function call happens, instead of going to the function,
the statements of the function are brought to the code having the
function call directly. This avoids the need for creating dummy
variables, switching between programs etc., This makes a big difference
when an array is processed by the functions, or the function is being
called within a loop.</p></li>
</ul>
<p>If there is a problem in the file while using the -g flag there will
be indications. Then type,</p>
<pre><code>gdb executable_filename.ext</code></pre>
<p>to have a full pass at the file and you will get a gdb prompt. Type
run to get an indication as to where the problem is.</p>
<p>gdb is similar to Python Debugger (pdb) use help in gdb prompt to get
all the available commands.</p>
<h2 id="goto-statement">Goto statement</h2>
<p>Go to statement is used for force shifting the line of execution to
some other part of the program.</p>
<p>syntax:</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">go</span> <span class="kw">to</span> <span class="op">&lt;</span>LABEL<span class="op">&gt;</span></span></code></pre></div>
<p>eg:</p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> (some condition) <span class="kw">go</span> <span class="kw">to</span> <span class="dv">99</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co">! lot of lines of code in between!</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="dv">99</span> <span class="kw">continue</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    set of statements</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co">! continue statement is used to continue the execution. That is all.</span></span></code></pre></div>
<h2 id="functions-simple">Functions – Simple</h2>
<p>Functions in fortran are similar to other functional definitions in
other languages.</p>
<p>Functions can take one or more arguments and return a value.</p>
<p>eg:</p>
<pre><code>y = f(x) or z = f(x,y)</code></pre>
<p>Usage in fortran:</p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="dt">real (kind=8)</span>, <span class="kw">external</span> <span class="dt">::</span> f</span></code></pre></div>
<p>“External” is used to tell that the definition is available
elsewhere.</p>
<p>Within the program script, but outside program, end program lines,
the definition of the function should be mentioned.</p>
<p>See the example below for clarification.</p>
<p>Sample Program:</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">! Program to experiment with functions</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co">! The function is the implementation of hero&#39;s formulae</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co">! For calculating the area of a triangle</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="kw">program</span> functions_example</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span> <span class="dt">::</span> a,b,c,s,Area</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span>, <span class="kw">external</span> <span class="dt">::</span> tri_area_ssa, semi</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">! External indicates that the definitions for them are given</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Outside the program.</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>    a <span class="kw">=</span> <span class="dv">5</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>    b <span class="kw">=</span> <span class="dv">12</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>    c <span class="kw">=</span> (a<span class="kw">**</span><span class="dv">2</span> <span class="kw">+</span> b<span class="kw">**</span><span class="dv">2</span>)<span class="kw">**</span><span class="fl">0.5</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>    s <span class="kw">=</span> semi(a,b,c) </span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Invoking one function</span></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>    Area <span class="kw">=</span> tri_area_ssa(a,b,c,s)</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Invoking another function</span></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;The semi-perimeter of the triangle is :&quot;</span>,s</span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;Area of the triangle using Hero&#39;s Formula is :&quot;</span>,Area</span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a><span class="kw">end program</span> functions_example</span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a><span class="dt">real (kind=8)</span> <span class="kw">function</span> semi(a,b,c)</span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a><span class="co">! Note that the data type definition is needed for the return value</span></span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span>, <span class="dt">intent(in)</span> <span class="dt">::</span> a,b,c</span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">! intent() is a built-in-function that indicates whether the variables</span></span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">! are passed into or passed out of the function or both.</span></span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">! Here, these variables are being passed into the function and</span></span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">! hence the argument &quot;in&quot;.</span></span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a>    semi <span class="kw">=</span> <span class="fl">0.5</span><span class="kw">*</span>(a<span class="kw">+</span>b<span class="kw">+</span>c)</span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-41"><a href="#cb62-41" aria-hidden="true" tabindex="-1"></a><span class="kw">end function</span> semi</span>
<span id="cb62-42"><a href="#cb62-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-43"><a href="#cb62-43" aria-hidden="true" tabindex="-1"></a><span class="dt">real (kind=8)</span> <span class="kw">function</span> tri_area_ssa(a,b,c,s)</span>
<span id="cb62-44"><a href="#cb62-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-45"><a href="#cb62-45" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb62-46"><a href="#cb62-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span>, <span class="dt">intent(in)</span> <span class="dt">::</span> a,b,c,s</span>
<span id="cb62-47"><a href="#cb62-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span> <span class="dt">::</span> x,y,z</span>
<span id="cb62-48"><a href="#cb62-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-49"><a href="#cb62-49" aria-hidden="true" tabindex="-1"></a>    x <span class="kw">=</span> s<span class="kw">-</span>a</span>
<span id="cb62-50"><a href="#cb62-50" aria-hidden="true" tabindex="-1"></a>    y <span class="kw">=</span> s<span class="kw">-</span>b</span>
<span id="cb62-51"><a href="#cb62-51" aria-hidden="true" tabindex="-1"></a>    z <span class="kw">=</span> s<span class="kw">-</span>c</span>
<span id="cb62-52"><a href="#cb62-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-53"><a href="#cb62-53" aria-hidden="true" tabindex="-1"></a>    tri_area_ssa <span class="kw">=</span> (s<span class="kw">*</span>x<span class="kw">*</span>y<span class="kw">*</span>z)<span class="kw">**</span><span class="fl">0.5</span></span>
<span id="cb62-54"><a href="#cb62-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-55"><a href="#cb62-55" aria-hidden="true" tabindex="-1"></a><span class="kw">end function</span> tri_area_ssa</span></code></pre></div>
<h2 id="intent-functions">Intent functions</h2>
<p>Intent is a built-in-function used inside other functions and
subroutines to indicate the nature of the variables involved.</p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a> <span class="dt">intent(in)</span> : <span class="co">!This means that the variable is passed into the function/subroutine/module and it&#39;s values should not be changed inside it.</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a> <span class="dt">intent(out)</span> : <span class="co">!This means that the variable is passed into the function/subroutine/module may not have a value, and thereby can be assigned a value and passed out of it.</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a> <span class="dt">intent(inout)</span> : <span class="co">!This means that the variable is passed into the function/subroutine/module and it can be altered and can be passed out of the function.</span></span></code></pre></div>
<p>These are not necessary sometimes, but it is a good practice to
follow their usage.</p>
<h2 id="subroutine">Subroutine</h2>
<p>A subroutine is similar to a function. It is not invoked, but rather
called in.</p>
<p>Subroutine is an extended and advanced version of a function. It can
have multiple arguments passed into it. It can also pass out multiple
arguments.</p>
<p>Also, it can pass out the variables passed into it by making changes
to them.</p>
<p>This is very essential for complicated programming algorithms.</p>
<p>How to call it?</p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">call</span> subroutine_name(args)</span></code></pre></div>
<p>Subroutines can modify and pass arrays. Functions cannot! They follow
the same procedure as that of other variables, the “dimension” type has
to be mentioned to in inside the subroutine as well as outside the
subroutine. Also, you may have to pass the size of the arrays is
needed.</p>
<p>Subroutines can be defined within the script or outside in a new
script.</p>
<p>This is an example:</p>
<p>Sample Program:</p>
<div class="sourceCode" id="cb65"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">! Program to experiment with subroutine</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co">! The subroutine is the implementation of hero&#39;s formulae</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co">! For calculating the area of a triangle</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="kw">program</span> subroutines_example</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span> <span class="dt">::</span> a,b,c,s,Area</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>    a <span class="kw">=</span> <span class="dv">5</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>    b <span class="kw">=</span> <span class="dv">12</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    c <span class="kw">=</span> (a<span class="kw">**</span><span class="dv">2</span> <span class="kw">+</span> b<span class="kw">**</span><span class="dv">2</span>)<span class="kw">**</span><span class="fl">0.5</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    s <span class="kw">=</span> <span class="dv">0</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">! s is intentionally set to 0 so that it gets modified inside</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">! the sub-routine call. Area is not set any value. This is</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">! to see that the subroutine assigns a value to it.</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;A=&quot;</span>,a,<span class="st">&quot;B=&quot;</span>,b,<span class="st">&quot;C=&quot;</span>,c</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;S=&quot;</span>,s</span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">call</span> tri_area_ssa(a,b,c,s,Area)</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">! This is the subroutine call !</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;A=&quot;</span>,a,<span class="st">&quot;B=&quot;</span>,b,<span class="st">&quot;C=&quot;</span>,c</span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;The semi-perimeter of the triangle is :&quot;</span>,s</span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span> <span class="kw">*</span>, <span class="st">&quot;Area of the triangle using Hero&#39;s Formula is :&quot;</span>,Area</span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a><span class="kw">end program</span> subroutines_example</span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a><span class="kw">subroutine</span> tri_area_ssa(a,b,c,s,Area)</span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span>, <span class="dt">intent(in)</span> <span class="dt">::</span> a,b,c</span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span>, <span class="dt">intent(out)</span> <span class="dt">::</span> Area</span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">! This is for making an assignment to Area, as Area has no value</span></span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span>, <span class="dt">intent(inout)</span> <span class="dt">::</span> s</span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">! This is for altering s, as s has a value to it.</span></span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real (kind=8)</span> <span class="dt">::</span> x,y,z</span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a>    s <span class="kw">=</span> <span class="fl">0.5</span><span class="kw">*</span>(a<span class="kw">+</span>b<span class="kw">+</span>c)</span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-42"><a href="#cb65-42" aria-hidden="true" tabindex="-1"></a>    x <span class="kw">=</span> s<span class="kw">-</span>a</span>
<span id="cb65-43"><a href="#cb65-43" aria-hidden="true" tabindex="-1"></a>    y <span class="kw">=</span> s<span class="kw">-</span>b</span>
<span id="cb65-44"><a href="#cb65-44" aria-hidden="true" tabindex="-1"></a>    z <span class="kw">=</span> s<span class="kw">-</span>c</span>
<span id="cb65-45"><a href="#cb65-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-46"><a href="#cb65-46" aria-hidden="true" tabindex="-1"></a>    Area <span class="kw">=</span> (s<span class="kw">*</span>x<span class="kw">*</span>y<span class="kw">*</span>z)<span class="kw">**</span><span class="fl">0.5</span></span>
<span id="cb65-47"><a href="#cb65-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-48"><a href="#cb65-48" aria-hidden="true" tabindex="-1"></a><span class="kw">end subroutine</span> tri_area_ssa</span></code></pre></div>
<h2 id="modules">Modules</h2>
<p>Modules are big chunks of programs written separately. It can have
it’s own variables, functions and subroutines. Modules are like header
files in C or like import file modules in Python.  </p>
<p>Format of a module goes like this:</p>
<div class="sourceCode" id="cb66"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">module</span> <span class="op">&lt;</span><span class="kw">module</span> name<span class="op">&gt;</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>     <span class="co">!variables and statements</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="kw">contains</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>     <span class="co">!definitions for subroutines/functions</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end module</span> <span class="op">&lt;</span><span class="kw">module</span> name<span class="op">&gt;</span></span></code></pre></div>
<p>To use the module in a program/subroutine/function:</p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">program</span> program_name</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>     use <span class="op">&lt;</span><span class="kw">module-</span>name<span class="op">&gt;</span> <span class="co">!This has to come before using other variables/statements</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>     <span class="co">!variable declarations and statements for program</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> program_name</span></code></pre></div>
<p>To import only a function/part of a module, use only command</p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>     use <span class="op">&lt;</span><span class="kw">module-</span>name<span class="op">&gt;</span>, <span class="kw">only</span>: <span class="op">&lt;</span>var or <span class="kw">function</span> or <span class="kw">subroutine</span><span class="op">&gt;</span></span></code></pre></div>
<p>Modules can be used to define global variables that can be used in
several programs. But this is not recommended. Modules generate
interface information when their variables and functions/subroutines are
used. These are links to determine which variables came from which file.
This helps to see whether proper arguments have been passed or not.
Modules also help to create derived data type.</p>
<p>NOTE: Modules must be compiled before compiling the programs using
the module! On compiling a module, it produces a .mod file and a .o
file. Then, the file using the module has to be used. When compiling the
program and module file together, put the module file first and then the
program file.</p>
<p>eg:</p>
<pre><code>gfortran module_file.f90 prog.f90</code></pre>
<p>You cannot put variables inside module. Only parameters are allowed.
Variables are allowed inside the functions and subroutines of a module.
To make a variable, use the “save” keyword after the variable
declarations. This command makes sure that any value that gets assigned
to the variable is available in all the programs using the module. Like
a global variable. While calling the module, use “call
another_subroutine()” subroutine to set it’s value. This subroutine
should have the variables defined and set with a value. eg:</p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">implicit</span> <span class="kw">none</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="dt">real</span> <span class="dt">::</span> pi</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="dt">save</span></span></code></pre></div>
<h2 id="pure-keyword">Pure Keyword</h2>
<p>This keyword is used for making subroutines, modules and functions
free from global variables and alterations. To declare them, use</p>
<p>pure function/module/subroutine name and that is all.</p>
<p>pure keyword can be used if the function/module/subroutine is
incapable of or does not 1. altering global variables 2. altering input
variables in case of functions. 3. making local variables global with
save command 4. having I/O</p>
<p>pure keyword makes them thread safe during parallelizing processes.
So, this can be used for both parallel and serial runs. This is
beneficial even for serial runs, as it helps the compiler to make some
more optimizations during compilation and execution.</p>
<h2 id="getting-excess-precision">Getting Excess Precision</h2>
<p>The registers and ALU of a PC are designed for more precision than
the memory storage. So, you can force the results to be more consistent
and precise by compiling and executing the files with the flags, -ffloat
- store</p>
<p>This causes the variables to be written out of the registers, back
into the cache, before the same value can be used again.</p>
<p>Usually, when a value is taken by the cache, it gets modified in the
CPU and then goes to the memory via cache. They do not get altered in
the cache. The cache changes the values directly in the memory. So, the
values in the cache remains unaffected till the cache line cycle is
over.</p>
<p>The above flags, manipulate the registers to change the value in the
cache (which does not happen in normal times). So, when the same value
is used somewhere else, instead of the older value, the updated value
gets used.</p>
<p>The problem is, during the intermediate operations, these additional
precision digits may stay or may not get properly written in the cache.
This varies between systems, programs, compilers and even the
algorithms/routines and the way they are used.</p>
<p>You can try this for fun, but do not anticipate the same answer in
other machines or while doing the execution in some other way. This
trick is recommended to try when you implement the same code, in a
normal usual way, in different machines but get different results, with
one reason possibly because of dilemma in truncations. Sometimes, this
is good, but some times, it destroys reproducibility. Because, this
tweaking works differently in different systems and architecture.</p>
<p>This is one of the several kind of a problems that used to happen in
olden days when many people made computer systems, because each
manufacturer used to make their own way of doing computer arithmetic.
After standardization, the problems got mitigated very much. But some
issues still pop-up.</p>
<h2 id="timing-code-in-fortran">Timing Code in Fortran</h2>
<p>There is a subroutine named system clock to measure the time taken
for a code to be executed completely. To use it,</p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">call</span> <span class="fu">system_clock</span>(var1, var2) <span class="co">!both variables are to be integers</span></span></code></pre></div>
<p>Variable 1 will have the elapsed clock cycles of the system from the
point where the code is executed to the current line. The unit will be
cycles.</p>
<p>Variable 2 will have the clock rate or the rate at which the
system/cpu is operating. The unit will be cycles per second.</p>
<p>eg:</p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">call</span> <span class="fu">system_clock</span>(tclock1)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a> <span class="co">! &lt;code to be executed&gt;</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="kw">call</span> <span class="fu">system_clock</span>(tclock2, rate)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>elapsed_time <span class="kw">=</span> <span class="bu">float</span>(tclock2 <span class="kw">-</span> tclock1)<span class="kw">/</span><span class="bu">float</span>(rate)</span></code></pre></div>
<p>To look at the cpu time, use <code>cpu_time subroutine</code></p>
<p>eg:</p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode f90"><code class="sourceCode fortranfree"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">call</span> <span class="fu">cpu_time</span>(time1) <span class="co">!the variable is a float with time in seconds.</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">! &lt;code to be executed&gt;</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">call</span> <span class="fu">cpu_time</span>(time2)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>elapsed_time <span class="kw">=</span> time2 <span class="kw">-</span> time1</span></code></pre></div>
<h2 id="blas-lapack">BLAS LAPACK</h2>
<p>BLAS (Basic Linear Algebra Subroutines) and LAPACK (LA Pack or Linear
Algebra Package) are linear algebra and scientific packages used by
Fortran, Matlab, Python, Scilab and many other programs. LAPACK kind of
depends on BLAS for some of it’s functions.</p>
<p>They provide functions and sub-routine definitions for performing the
above mentioned operations. They are made in both C and Fortran.</p>
<p>Fortran does not have an equivalent of Matlab’s Ainear algebra
operation. This is done using LAPACK. Under the hood, Matlab and Numpy
also need LAPACK to do these!</p>

        </div>
    </main>

    <!-- This script is to enable copy button in pre tags -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const copyButtonLabel = "Copy";

    // Find all pre blocks
    let blocks = document.querySelectorAll("pre");

    blocks.forEach((block) => {
        // Only add button if browser supports Clipboard API
        if (navigator.clipboard) {
            let button = document.createElement("button");
            button.className = "copy-code-button";
            button.innerText = copyButtonLabel;
            
            // Make pre relative for absolute button positioning
            block.style.position = "relative";
            
            block.appendChild(button);

            button.addEventListener("click", async () => {
                let code = block.querySelector("code");
                let text = code.innerText;
                
                await navigator.clipboard.writeText(text);
                
                // Visual feedback
                button.innerText = "Copied!";
                setTimeout(() => {
                    button.innerText = copyButtonLabel;
                }, 2000);
            });
        }
    });
});
</script>

<!-- Auto-reload script for development -->


    <!-- Footer -->
<footer class="bg-base-200 text-base-content border-t border-base-300">
    <div class="container mx-auto max-w-7xl">
        <div class="footer footer-center p-10">
            <aside class="flex flex-col items-center gap-4">
                <!-- Social Media Icons -->
                <nav>
                    <div class="flex justify-center gap-4">
                        
                        <a 
                            href="https://github.com/arunprasaad2711"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="GitHub"
                            class="hover:opacity-70 transition-opacity"
                        >
                            <iconify-icon icon="mdi:github" width="32" height="32"></iconify-icon>
                        </a>
                        
                        <a 
                            href="https://youtube.com/@fluidiccolours8091"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="YouTube"
                            class="hover:opacity-70 transition-opacity"
                        >
                            <iconify-icon icon="mdi:youtube" width="32" height="32"></iconify-icon>
                        </a>
                        
                        <a 
                            href="mailto:arunprasaad2711@gmail.com"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="Email"
                            class="hover:opacity-70 transition-opacity"
                        >
                            <iconify-icon icon="mdi:email" width="32" height="32"></iconify-icon>
                        </a>
                        
                        <a 
                            href="https://linkedin.com/in/arun-prasaad-gunasekaran-547a59182/"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="LinkedIn"
                            class="hover:opacity-70 transition-opacity"
                        >
                            <iconify-icon icon="mdi:linkedin" width="32" height="32"></iconify-icon>
                        </a>
                        
                        <a 
                            href="https://www.instagram.com/fluidiccolours/"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="Instagram"
                            class="hover:opacity-70 transition-opacity"
                        >
                            <iconify-icon icon="mdi:instagram" width="32" height="32"></iconify-icon>
                        </a>
                        
                        <a 
                            href="https://www.quora.com/profile/Arun-Prasaad-Gunasekaran"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label="Quora"
                            class="hover:opacity-70 transition-opacity"
                        >
                            <iconify-icon icon="mdi:quora" width="32" height="32"></iconify-icon>
                        </a>
                        
                    </div>
                </nav>
                
                <!-- Copyright Text -->
                <p class="text-sm">
                    2018 - <span id="current-year"></span> | <span class="font-semibold">Fluidic Colours</span> | 
                    <span class="font-semibold">Arun Prasaad Gunasekaran</span>
                </p>
                
                <!-- Website Designed Text -->
                <p class="text-xs opacity-70">
                    Website Designed using Python + Jinja2 + Pandoc + DaisyUI
                </p>
            </aside>
        </div>
    </div>
</footer>

<script>
    document.getElementById('current-year').textContent = new Date().getFullYear();
</script>

</body>
</html>